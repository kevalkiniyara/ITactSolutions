(function(){var r=abp.services.app.student,n=[],t=$("#State"),i=$("#City");$("#removeImage").click(function(n){n.preventDefault();$(this).remove();$("#StudentImage").val("");$("#studentImagePic").hide()});$("#Country").on("change",function(){var n=$(this).val();r.getStateComboboxDto(n).done(function(n){n!=null&&(t.find("option").remove(),t.append("<option value=''>Select<\/option>"),$.each(n,function(n,i){t.append($("<option/>",{value:i.value,text:i.displayText,selected:i.isSelected?!0:!1}))}))});$("#State").on("change",function(){var n=$(this).val();r.getCityComboboxDto(n).done(function(n){n!=null&&(i.find("option").remove(),i.append("<option value=''>Select<\/option>"),$.each(n,function(n,t){i.append($("<option/>",{value:t.value,text:t.displayText,selected:t.isSelected?!0:!1}))}))})})});$("#datepicker").datepicker({format:"mm/dd/yyyy",autoclose:!0});$(".studentImage").on("change",function(t){var i=t.target.files[0].name,r=i.substring(i.lastIndexOf(".")+1,i.length);if(r!=="jpg"&&r!=="jpeg"&&r!="png"){swal("Error","Please upload .jpg,.jpeg,.png files only.","error");return}n=[];n.push(t.target.files[0]);$("#image").val(i)});$("#btnSave").on("click",function(){if($('[name="StudentEditForm"]').valid()){var i=$('[name="StudentEditForm"]').serializeFormDataToObject(),t=new FormData;$.each(n,function(n,i){t.append(n,i)});t.append("Id",i.Id);t.append("FirstName",i.FirstName);t.append("LastName",i.LastName);t.append("Email",i.Email);t.append("PhoneNumber",i.PhoneNumber);t.append("Standard",i.Standard);t.append("BirthDate",i.BirthDate);t.append("StudentImage",i.StudentImage);t.append("CountryId",i.CountryId);t.append("StateId",i.StateId);t.append("CityId",i.CityId);t.append("Gender",i.Gender);$(".chkHobbies").each(function(){var n=$(this);n.prop("checked")&&t.append("HobbiesIds",n.val())});abp.ajax({url:"/Students/CreateOrEditStudent",type:"post",contentType:!1,processData:!1,data:t}).done(function(){abp.notify.success("StudentData saved Successfully");window.location.href="/students"})}else return})})();