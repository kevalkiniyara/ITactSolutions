(function(){$(function(){function r(n){window.location.href=n>0?"/Students/CreateOrEditStudent?id="+n:"/Students/CreateOrEditStudent"}function u(t){abp.message.confirm(abp.utils.formatString(abp.localization.localize("Deletestudent","ITactDemo")),function(r){r&&i.deleteStudent({id:t}).done(function(){abp.notify.success(app.localize("SuccessfullyDeleted"));jQuery(n).trigger("reloadGrid")})})}function f(n,t,i){var r="";return r+="<button class='btn btn-xs btn-success btnEdit' data-id='"+i.id+" 'tooltip=Edit'><i class='fa fa-edit'><\/i><\/button>&nbsp; ",r+("<button class='btn btn-xs btn-danger btnDelete' data-id='"+i.id+"'tooltip='Delete'><i class='fa fa-remove'><\/i><\/button>")}function e(n){var t="";return n!=null&&n!=""&&n!=undefined&&(t="<img src="+n+" height=50/>"),t}function o(n){return n!==null&&n!==""?moment(n).format("L"):""}var i=abp.services.app.student;$("#CreateNewStudent").click(function(){window.location.href="/Students/CreateOrEditStudent"});var n="#student",t="#studentPager";jQuery(n).jqGrid({url:"/Students/GetStudent",sortname:"id",colNames:["FirstName","LastName","Email","PhoneNumber","BirthDate","Gender","Hobby","Id","Student Photo","Action"],colModel:[{name:"firstName",index:"firstName",search:!0,width:100},{name:"lastName",index:"lastName",search:!0,width:100},{name:"email",index:"email",search:!0,width:100},{name:"phoneNumber",index:"phoneNumber",search:!0,width:100},{name:"birthDate",index:"birthDate",search:!0,width:150,formatter:o,searchoptions:{sopt:["eq"],dataInit:function(n){$(n).datepicker({singleDatePicker:!0,autoclose:!0,showDropdowns:!0,autoUpdateInput:!1}).on("apply.datepicker",function(n,t){$(this).val(t.startDate.format("L"));$(this).keydown()})}}},{name:"gender",index:"gender",search:!0,width:150},{name:"hobbies",index:"hobbies",search:!0,width:150},{name:"id",index:"id",hidden:!0,key:!0},{name:"studentImage",index:"studentImage",formatter:e,sortable:!1,width:150,align:"center",search:!1,width:150},{name:"actions",index:"id",formatter:f,sortable:!1,width:150,align:"center",search:!1,width:75}],pager:t,height:"auto",width:"auto",loadComplete:function(){jQuery(n).trigger("resize");$(n).jqGrid("setGridWidth",$(n).closest(".jqgrid").width());$(n+" .btnEdit").click(function(){r($(this).data().id)});$(n+" .btnDelete").click(function(){u($(this).data().id)})}});jQuery(n).navGrid(t,jgridNavOpt);jQuery(n).jqGrid("filterToolbar",jgridFilterOpt)})})();